{"version":3,"sources":["index.js"],"names":["SECONDARY_CLASS","HIDE_CLASS","SHOW_CLASS","target","document","getElementById","donationSection","Array","from","querySelectorAll","primarySections","throttle","fn","wait","time","Date","now","inside","el1","el2","rect1","getBoundingClientRect","rect2","top","bottom","left","right","callback","changeClass","reduce","previousValue","element","classList","remove","add","addEventListener","e","preventDefault","scrollIntoView","behavior","window","copyToClipboard","getElementsByClassName","forEach","execCommand","event","clipboardData","text","parentElement","textContent","dataset","removeSpaces","replace","setData","href","location","endsWith","assign","navigator","language","userLanguage","startsWith","includes"],"mappings":";AAAA,IAAMA,EAAkB,oBAClBC,EAAa,OACbC,EAAa,OACbC,EAASC,SAASC,eAAe,cACjCC,EAAkBC,MAAMC,KAAKJ,SAASK,iBAAiB,aAAa,GACpEC,EAAkBH,MAAMC,KAAKJ,SAASK,iBAAiB,+BAE7D,SAASE,EAASC,EAAIC,GAChBC,IAAAA,EAAOC,KAAKC,MACT,OAAA,WACDF,EAAOD,EAAOE,KAAKC,MAAQ,IAC7BJ,IACAE,EAAOC,KAAKC,QAKlB,SAASC,EAAOC,EAAKC,GACbC,IAAAA,EAAQF,EAAIG,wBACZC,EAAQH,EAAIE,wBAEhBD,OAAAA,EAAMG,KAAOD,EAAME,QACnBJ,EAAMI,QAAUF,EAAMC,KACtBH,EAAMK,MAAQH,EAAMI,OACpBN,EAAMM,OAASJ,EAAMG,KAIzB,SAASE,IACDC,IAAAA,EAAclB,EAAgBmB,OAAO,SAACC,EAAeC,GAClDD,OAAAA,GAAiBb,EAAOc,EAAS5B,KACvC,GAEiCc,EAAOX,EAAiBH,IAG1DA,EAAO6B,UAAUC,OAAO/B,GACxBC,EAAO6B,UAAUE,IAAIjC,KAErBE,EAAO6B,UAAUC,OAAOhC,GACxBE,EAAO6B,UAAUE,IAAIhC,IAGnB0B,EACFzB,EAAO6B,UAAUE,IAAIlC,GAErBG,EAAO6B,UAAUC,OAAOjC,GAKxBG,IACFA,EAAOgC,iBAAiB,QAAS,SAACC,GAChCA,EAAEC,iBACFjC,SAASC,eAAe,WAAWiC,eAAe,CAChDC,SAAU,aAGdC,OAAOL,iBAAiB,SAAUxB,EAASgB,EAAU,OAIvD,IAAMc,EAAkBrC,SAASsC,uBAAuB,QACxDnC,MAAMC,KAAKiC,GAAiBE,QAAQ,SAACZ,GACnCA,EAAQI,iBAAiB,QAAS,WAAM/B,OAAAA,SAASwC,YAAY,UAC7Db,EAAQI,iBAAiB,OAAQ,SAACU,GAE5BA,GADJA,EAAMR,iBACFQ,EAAMC,cAAe,CACnBC,IAAAA,EAAOhB,EAAQiB,cAAcC,iBACW,IAAjClB,EAAQmB,QAAQC,eACzBJ,EAAOA,EAAKK,QAAQ,MAAO,KAE7BP,EAAMC,cAAcO,QAAQ,aAAcN,QAMhD,WACQO,IAAAA,EAAOd,OAAOe,SAASD,KACzBA,EAAKE,SAAS,QACThB,OAAOe,SAASE,OAAO,kBAG5BH,EAAKE,SAAS,OACThB,OAAOe,SAASE,OAAO,oBAGfC,UAAUC,UAAYD,UAAUE,cAEtCC,WAAW,OAChBP,EAAKE,SAAS,QACdF,EAAKQ,SAAS,SACdR,EAAKQ,SAAS,cACdR,EAAKQ,SAAS,gBAEXtB,OAAOe,SAASE,OAAO,kBAlBlC","file":"src.22125e09.js","sourceRoot":"../src","sourcesContent":["const SECONDARY_CLASS = 'button--secondary';\nconst HIDE_CLASS = 'hide';\nconst SHOW_CLASS = 'show';\nconst target = document.getElementById('mainButton');\nconst donationSection = Array.from(document.querySelectorAll('#spenden'))[0];\nconst primarySections = Array.from(document.querySelectorAll('.section--primary, .family'));\n\nfunction throttle(fn, wait) {\n  var time = Date.now();\n  return function () {\n    if (time + wait - Date.now() < 0) {\n      fn();\n      time = Date.now();\n    }\n  };\n}\n\nfunction inside(el1, el2) {\n  const rect1 = el1.getBoundingClientRect();\n  const rect2 = el2.getBoundingClientRect();\n  return (\n    rect1.top <= rect2.bottom &&\n    rect1.bottom >= rect2.top &&\n    rect1.left <= rect2.right &&\n    rect1.right >= rect2.left\n  );\n}\n\nfunction callback() {\n  const changeClass = primarySections.reduce((previousValue, element) => {\n    return previousValue || inside(element, target);\n  }, false);\n\n  const buttonInsideDonationSection = inside(donationSection, target)\n\n  if (buttonInsideDonationSection) {\n    target.classList.remove(SHOW_CLASS);\n    target.classList.add(HIDE_CLASS);\n  } else {\n    target.classList.remove(HIDE_CLASS);\n    target.classList.add(SHOW_CLASS);\n  }\n\n  if (changeClass) {\n    target.classList.add(SECONDARY_CLASS);\n  } else {\n    target.classList.remove(SECONDARY_CLASS);\n  }\n\n}\n\nif (target) {\n  target.addEventListener('click', (e) => {\n    e.preventDefault();\n    document.getElementById('spenden').scrollIntoView({\n      behavior: 'smooth',\n    });\n  });\n  window.addEventListener('scroll', throttle(callback, 100));\n}\n\n\nconst copyToClipboard = document.getElementsByClassName('copy');\nArray.from(copyToClipboard).forEach((element) => {\n  element.addEventListener('click', () => document.execCommand('copy'));\n  element.addEventListener('copy', (event) => {\n    event.preventDefault();\n    if (event.clipboardData) {\n      let text = element.parentElement.textContent;\n      if (typeof element.dataset.removeSpaces !== 'undefined') {\n        text = text.replace(/\\s/g, '');\n      }\n      event.clipboardData.setData('text/plain', text);\n    }\n  });\n});\n\n\n(function() {\n  const href = window.location.href;\n  if (href.endsWith('/en/')) {\n    return window.location.assign('/en/index.html')\n  }\n\n  if (href.endsWith('/en')) {\n    return window.location.assign('/en/index.html')\n  }\n\n  const userLang = navigator.language || navigator.userLanguage; \n  if (\n    userLang.startsWith('en')\n    && !href.endsWith('?de') \n    && !href.includes('/en/')\n    && !href.includes('impressum')\n    && !href.includes('datenschutz')\n    ) {\n    return window.location.assign('/en/index.html')\n  }\n})();"]}